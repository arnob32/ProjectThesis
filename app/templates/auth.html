<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Auth Page</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f4f9;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .container {
      width: 400px;
      background: #fff;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    h2 { text-align: center; margin-bottom: 1rem; }
    .form-group { margin-bottom: 1rem; }
    label { display: block; font-size: 0.9rem; margin-bottom: 0.3rem; }
    input, select {
      width: 100%; padding: 0.6rem;
      border: 1px solid #ccc; border-radius: 6px;
    }
    button {
      width: 100%; padding: 0.7rem;
      border: none; border-radius: 6px;
      background: #007bff; color: #fff;
      font-weight: bold; cursor: pointer;
    }
    button:hover { background: #0056b3; }
    .switch { margin-top: 1rem; text-align: center; }
    .switch a { color: #007bff; cursor: pointer; }
    .switch a:hover { text-decoration: underline; }
    #signup-form { display: none; }
  </style>
</head>
<body>
  <div class="container">
    <!-- Login Form -->
    <form id="login-form" method="post" action="/auth/login">
      <h2>Login</h2>
      <div class="form-group">
        <label>Email</label>
        <input type="email" name="email" required>
      </div>
      <div class="form-group">
        <label>Password</label>
        <input type="password" name="password" required>
      </div>
      <button type="submit">Login</button>
      <div class="switch">
        No account? <a onclick="showSignup()">Sign Up</a>
      </div>
    </form>

    <!-- Signup Form -->
    <form id="signup-form" method="post" action="/auth/signup">
      <h2>Sign Up</h2>
      <div class="form-group">
        <label>Role</label>
        <select name="role" id="role" required onchange="toggleFields()">
          <option value="">Select Role</option>
          <option value="student">Student</option>
          <option value="teacher">Teacher</option>
        </select>
      </div>

      <!-- Common -->
      <div class="form-group">
        <label>Department</label>
        <input type="text" name="department" required>
      </div>
      <div class="form-group student-field">
        <label>Subject</label>
        <input type="text" name="subject">
      </div>
      <div class="form-group teacher-field" style="display:none;">
        <label>Position</label>
        <input type="text" name="position">
      </div>
      <div class="form-group student-field">
        <label>Student ID</label>
        <input type="text" name="student_id">
      </div>
      <div class="form-group teacher-field" style="display:none;">
        <label>Teacher ID</label>
        <input type="text" name="teacher_id">
      </div>
      <div class="form-group">
        <label>University Email</label>
        <input type="email" name="email" required>
      </div>
      <div class="form-group">
        <label>Password</label>
        <input type="password" name="password" required>
      </div>
      <button type="submit">Sign Up</button>
      <div class="switch">
        Already registered? <a onclick="showLogin()">Login</a>
      </div>
    </form>
  </div>

  <script>
    function showSignup() {
      document.getElementById("login-form").style.display = "none";
      document.getElementById("signup-form").style.display = "block";
    }
    function showLogin() {
      document.getElementById("signup-form").style.display = "none";
      document.getElementById("login-form").style.display = "block";
    }
    function toggleFields() {
      const role = document.getElementById("role").value;
      const studentFields = document.querySelectorAll(".student-field");
      const teacherFields = document.querySelectorAll(".teacher-field");

      if (role === "student") {
        studentFields.forEach(f => f.style.display = "block");
        teacherFields.forEach(f => f.style.display = "none");
      } else if (role === "teacher") {
        studentFields.forEach(f => f.style.display = "none");
        teacherFields.forEach(f => f.style.display = "block");
      } else {
        studentFields.forEach(f => f.style.display = "none");
        teacherFields.forEach(f => f.style.display = "none");
      }
    }
  </script>
</body>
</html>
